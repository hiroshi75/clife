(window.webpackJsonpclife=window.webpackJsonpclife||[]).push([[0],{27:function(e,t,n){e.exports=n(39)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(12),o=n.n(a),c=n(16),l=n(3);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(55),y=n(56),f={fill:"red"},p=function(){var e=Object(l.c)(function(e){return e.hover}),t=e.x,n=e.y;return e.show?i.a.createElement("rect",{width:7,height:7,x:7*t,y:7*n,style:f}):null},s=function(){var e=Object(l.c)(function(e){return e.field}).cells.map(function(e,t){var n=7*e.x,r=7*e.y;return i.a.createElement("rect",{key:t,x:n,y:r,width:7,height:7,className:"cell"})});return i.a.createElement("g",null,e)},d=function(e){return{type:"SEND_PLAY_COMMAND",play:e}},v=function(e,t){return{type:"SCREEN_SIZE_CHANGED",size:{x:e,y:t}}},g=(n(37),n(25)),h=function(){return{x:document.documentElement.clientWidth,y:document.documentElement.clientHeight}},m=function(e){var t=e.x,n=e.y;return g.isBrowser?{x:t-26,y:n-80}:{x:t-16,y:n-100}},E=function(e){var t=e.x,n=e.y,r=m({x:t,y:n});return{gridx:Math.ceil(r.x/7),gridy:Math.ceil(r.y/7),width:r.x,height:r.y}},X=function(){return E(m(h()))},x=E,w=function(){var e=Object(l.b)(),t=Object(r.useRef)(null),n=Object(r.useRef)(null),a=Object(r.useRef)({left:0,top:0}),o=Object(l.c)(function(e){return e.field}),c=Object(l.c)(function(e){return e.app});Object(r.useEffect)(function(){null!==n.current&&(a.current=n.current.getBoundingClientRect())});var u=function(e){return Math.round(e/7)},y=function(e){var t=a.current;return{x:u(e.clientX-t.left),y:u(e.clientY-t.top)}};o.playing&&null===t.current?t.current=window.setInterval(function(){var t,n;e((t=o.gridx,n=o.gridy,{type:"NEXT_GENERATION",gridSize:{x:t,y:n}}))},20):o.playing||null===t.current||(window.clearInterval(t.current),t.current=null);for(var f=x({x:c.windowX,y:c.windowY}),d=f.gridx,v=f.gridy,g=f.width,h=f.height,m=i.a.createElement("rect",{width:g,height:h,className:"field-line"}),E=[],X=0;X<d-1;X++){var w=7*(X+1);E.push(i.a.createElement("line",{key:X,x1:w,x2:w,y1:0,y2:h,className:"field-line"}))}for(var O=[],b=0;b<v-1;b++){var j=7*(b+1);O.push(i.a.createElement("line",{key:b,x1:0,x2:g,y1:j,y2:j,className:"field-line"}))}return i.a.createElement("svg",{width:g,height:h,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",onMouseMove:function(t){e({type:"FIELD_MOUSE_MOVE",gridPoint:y(t)})},onClick:function(t){o.playing||e({type:"FIELD_CLICK",gridPoint:y(t)})},ref:n},m,E,O,i.a.createElement(s,null),i.a.createElement(p,null))},O=n(57),b=function(){var e=Object(l.b)(),t=Object(l.c)(function(e){return e.controlButtons}),n=t.playing?"Stop":"Start";return i.a.createElement("div",null,i.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(n){return e(d(!t.playing))}},n),i.a.createElement(O.a,{disabled:t.playing,variant:"contained",onClick:function(){return e({type:"CLEAR_CLICKED"})}},"Clear"))},j=(n(38),[{name:"Glider Gun",pattern:["                        X","                      X X","            XX      XX            XX","           X   X    XX            XX","XX        X     X   XX","XX        X   X XX    X X","          X     X       X","           X   X","            XX"],position:{x:"left",y:"top"}},{name:"Glider",pattern:[" X","  X","XXX"],position:{x:"left",y:"top"}},{name:"Light-weight spaceship",pattern:["X  X","    X","X   X"," XXXX"],position:{x:"left",y:"top"}},{name:"Acorn",pattern:[" X","   X","XX  XXX"],position:{x:"center",y:"center"}},{name:"R-pentomino",pattern:[" XX","XX"," X"],position:{x:"center",y:"center"}}]),C=function(){var e=Object(l.b)(),t=Object(l.c)(function(e){return e.patternSelector}),n=[];n.push(i.a.createElement("option",{value:-1,key:-1},"Please Select"));for(var r=0;r<j.length;r++){var a=j[r];n.push(i.a.createElement("option",{value:r,key:r},a.name))}return i.a.createElement("div",null,i.a.createElement("select",{value:t.pattern,onChange:function(t){e(d(!1)),e({type:"PATTERN_CHANGED",selectedType:parseInt(t.target.value)})}},n))};var P=function(){var e=Object(l.b)();return Object(r.useEffect)(function(){var t=function(){var t=h(),n=t.x,r=t.y;e(d(!1)),e(v(n,r))};return window.addEventListener("resize",t),window.addEventListener("gesturestart",t),function(){window.removeEventListener("resize",t)}},[]),i.a.createElement("div",null,i.a.createElement(u.a,{container:!0,alignItems:"center",spacing:1},i.a.createElement(u.a,{item:!0},i.a.createElement("img",{src:"gameoflife_mini.png",width:"145",height:"50",alt:"Game of Life"})),i.a.createElement(u.a,{item:!0},i.a.createElement(b,null)),i.a.createElement(u.a,{item:!0},i.a.createElement(y.a,null,"Paste pattern: ")),i.a.createElement(u.a,{item:!0},i.a.createElement(C,null))),i.a.createElement(w,null))},N={x:0,y:0,show:!0},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;if("FIELD_MOUSE_MOVE"===t.type){var n=t,r=n.gridPoint,i=r.x,a=r.y;return null===i||null===a?e:{show:!0,x:i,y:a}}return e},M=n(10),_=function(e,t,n){var r=e[t]||{};r[n]=(r[n]||0)+1,e[t]=r},S=function(e,t){var n={},r={},i=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value,y=u.x,f=u.y,p=r[y]||{};p[f]=1,r[y]=p;for(var s=Math.max(y-1,0);s<=Math.min(y+1,t.x-1);s++)for(var d=Math.max(f-1,0);d<=Math.min(f+1,t.y-1);d++)y===s&&f===d||_(n,s,d)}}catch(x){a=!0,o=x}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}var v=[];for(var g in n)for(var h in n[g]){var m=n[g][h],E=parseInt(g),X=parseInt(h);E>=t.x||X>=t.y||(3===m?v.push({x:E,y:X}):2===m&&r[E]&&r[E][X]&&v.push({x:E,y:X}))}return v},I=n(17),A=function(e){var t=e.pattern,n=e.position,r=t.length,i=Math.max.apply(Math,Object(I.a)(t.map(function(e){return e.length}))),a=function(e,t,n,r){var i=0,a=0,o=X();return"center"===e?i=Math.floor(o.gridx/2):"right"===e&&(i=Math.max(o.gridx-n,0)),"center"===t?a=Math.floor(o.gridy/2):"bottom"===t&&(a=Math.max(o.gridy-r,0)),{x:i,y:a}}(n.x,n.y,i,r),o=a.x,c=a.y,l=[];return t.forEach(function(e){for(var t=o,n=0;n<e.length;n++)"X"===e[n]&&l.push({x:t,y:c}),t++;c++}),l};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){Object(M.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R=X(),G={playing:!1,zoom:1,gridx:R.gridx,gridy:R.gridy,cells:[]},T=function(e,t){var n=t.gridPoint,r=n.x,i=n.y,a=e.cells,o=!0,c=!1,l=void 0;try{for(var u,y=a[Symbol.iterator]();!(o=(u=y.next()).done);o=!0){var f=u.value;if(!(f.x<r)){if(f.x>r)break;if(f.y===i)return a.filter(function(e){return e.x!==r||e.y!==i})}}}catch(p){c=!0,l=p}finally{try{o||null==y.return||y.return()}finally{if(c)throw l}}return a.push({x:r,y:i}),a.sort(function(e,t){return e.x!==t.x?e.x-t.x:e.y-t.y}),a},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;if("SCREEN_SIZE_CHANGED"===t.type){var n=t.size,r=E(n),i=r.gridx,a=r.gridy;return k({},e,{},{gridx:i,gridy:a})}return"SEND_PLAY_COMMAND"===t.type?k({},e,{playing:t.play}):"FIELD_CLICK"===t.type?k({},e,{cells:T(e,t)}):"NEXT_GENERATION"===t.type?k({},e,{cells:S(e.cells,t.gridSize)}):"CLEAR_CLICKED"===t.type?k({},e,{cells:[]}):"PATTERN_CHANGED"===t.type&&-1!==t.selectedType?k({},e,{cells:A(j[t.selectedType])}):e};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach(function(t){Object(M.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var H=h(),F={windowX:H.x,windowY:H.y},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;if("SCREEN_SIZE_CHANGED"===t.type){var n=t.size,r=n.x,i=n.y;return B({},e,{windowX:r,windowY:i})}return e},W={playing:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;return"SEND_PLAY_COMMAND"===t.type&&e.playing!==t.play?{playing:t.play}:e},J={pattern:-1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;arguments.length>1&&arguments[1];return e},V=Object(c.b)({field:z,hover:D,controlButtons:Z,patternSelector:U,app:K}),$=Object(c.c)(V);o.a.render(i.a.createElement(l.a,{store:$},i.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.c5b4d583.chunk.js.map